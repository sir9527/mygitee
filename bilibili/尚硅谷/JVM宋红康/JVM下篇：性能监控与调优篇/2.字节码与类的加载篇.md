

# 字节码与类的加载篇



## 1.class文件结构

- 字节码class文件，借助JVM虚拟机实现跨平台

- 前端编译器：可以将java编译成class二进制字节码文件；javap命令可以将class反编译

- 后端编译器：JIT编译成机器语言

- javac：将java编译成class文件

- javap：将class文件编译成汇编语言（汇编语言与机器语言一一对应。可以间接看到系统执行完整过程）



**class文件结构**

- 魔数（class文件标识）
- class文件版本号
- 常量池：存放所有常量
- 访问标识
- 类索引、父类索引、接口索引集合
- 字段表集合
- 方法表集合
- 属性表集合
- ...



## 2.字节码指令集

- 加载与存储指令
- 算术指令
- 类型转换指令
- 对象的创建和访问指令
- 方法调用与返回指令
- 操作数栈管理指令
- 比较控制指令
- 异常处理指令
- 同步控制指令
- ...



## 3.类的加载过程（类的生命周期）

- JAVA数据类型分为基本数据类型和引用数据类型。

- 基本数据类型由虚拟机预先定义，引用数据类型需要类的加载。

- 类会加载到方法区中

- **生命周期**：加载 -> 链接 -> 初始化 -> 类的使用 -> 类的卸载

















