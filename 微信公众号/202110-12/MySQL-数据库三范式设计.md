

[TOC]



# 数据库表设计范式 

## 1.数据库三范式设计

### 1.1 第一范式

**第一范式：所有字段值都是不可分解的原子值** 

例如：

存储地址， 一般设计为省市区，然后再加上具体的位置来表示完整的地址，而不是直接设计一个地址的字段 

存储商品， 一般设计为商品，数量，价格，而不是设计成商品1，商品2，商品3，数量1，数量2，数量3 



![](https://gitee.com/domineering_red_tide/image/raw/master/image/20210531095757.png)



 ### 1.2 第二范式（ 第二范式是在第一范式的基础之上更进一层 ）

 **第二范式：数据库表中的每一列都和主键相关（属性完全依赖主键），而不能只与主键的某一部分相关（主要针对联合主键而言）** 



例如：

设计一个订单信息表，订单中可能会有多种商品，所以要将订单编号和商品编号作为数据库表的联合主键 



这样就产生一个问题：这个表中是以订单编号和商品编号作为联合主键。这样在该表中商品名称、单位、商品价格等信息不与该表的主键相关，而仅仅是与商品编号相关。所以在这里违反了第二范式的设计原则 

![](https://gitee.com/domineering_red_tide/image/raw/master/image/20210531100029.png)



根据第二范式需要将表设计成如下：

![](https://gitee.com/domineering_red_tide/image/raw/master/image/20210601093310.png)





### 1.3 第三范式 

**第三范式：需要确保数据表中的每一列数据都和主键直接相关，而不能间接相关。** 



例如：

设计一个订单数据表的时候，可以将客户编号作为一个外键和订单表建立相应的关系。而不可以在订单表中添加关于客户其它信息（比如姓名、所属公司等）的字段。

如下面这两个表所示的设计就是一个满足第三范式的数据库表。 



 按照范式的规范设计的表，等级越高的范式设计出来的表数量越多，获取数据时，表关联过多，性能较差

![](https://gitee.com/domineering_red_tide/image/raw/master/image/20210601094023.png)





## 2.范式和反范式设计数据库优缺点

```

范式优点： 避免数据冗余 
范式缺点： 等级越高的范式设计出来的表数量越多，获取数据时，表关联过多，性能较差 


反范式 ： 虽然数据冗余，但提高了业务响应的时间  

```













